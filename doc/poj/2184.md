---
title: POJ 2184 DP
date: 2018-11-25 20:46:42
categories:
  - POJ
tags:
  - DP
---

题目链接：http://poj.org/problem?id=2184

有 $n$ 头牛，每头牛都有智商（$S_i$）和情商（$F_i$）两种属性。有的牛的智商或者情商可能为负。现在要从这些牛中挑选一些出来，令他们的智商之和为 $TS$，情商之和为 $TF$，求 $TS + TF$ 的最大值，同时要求 $TS \geq 0$ 且 $TF \geq 0$。

<!-- more -->

## 思路

变种的背包问题，令 $dp[i][j]$ 为前 $i$ 头牛，智商之和（$TS$）**等于** $j$ 时，情商之和（$TF$）的最大值。

$$
dp[i][j] = max(dp[i-1][j], dp[i-1][j-S_i] + F_i)
$$

> 传统的背包问题定义 $dp[i][j]$ 为从前 $i$ 个物品中选取重量**不超过** $j$ 时的最大价值，而本题的 $dp[i][j]$ 为前 $i$ 头牛，智商之和**等于**$j$ 时，情商之和的最大值。

最后只要选出 $max(dp[n][j] + j)$ 即可 $(j\geq0 \& dp[n][j]\geq0)$。

具体实现时注意两点：

1. 由于 $j$ 可能为负，因此需要给整体加上偏移 `Offset`
2. 初始化时，$dp$ 数组应该置为无穷小
3. 使用滚动数组来优化空间

{% include_code acm-solutions/POJ/2184.cpp %}