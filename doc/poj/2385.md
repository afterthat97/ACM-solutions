---
title: POJ 2385 DP
date: 2018-11-19 15:38:56
categories:
  - POJ
tags:
  - DP
---

题目链接：http://poj.org/problem?id=2385

每分钟树 1 和树 2 两棵树之中都会有一棵树掉落苹果，只有在树下才能接到苹果。一个人想要尽可能接到最多数量的苹果，并且他可以在两棵树之间随意转换（转换树次数有限，但不耗费时间）。现在给出分钟数 $N$ 和 $W$ 次转换树次数，其中，1 代表当前分钟苹果在树 1 掉落，2 代表苹果在树 2 掉落，问：最多能接多少个苹果？

<!-- more -->

## 思路

记 $dp_{i, j}$ 为第 $i$ 分钟、转换次数不超过 $j$ 次时能接到的最多苹果数量。

那么可以分情况讨论：换树还是不换树：

* 如果不换：

$$dp_{i, j} = dp_{s_i, j} + 1$$

* 如果换树：

$$dp_{i, j} = dp_{d_i, j-1} + 1$$

$s_i$ 是上一个在当前树上掉落的苹果的时刻（对应代码中 `pre_same`），$d_i$ 是上一个在另一棵树上掉落的苹果的时刻（对应代码中 `pre_diff`）。

{% include_code acm-solutions/POJ/2385.cpp %}
