---
title: POJ 3009 DFS
date: 2018-11-15 11:03:09
categories:
  - POJ
tags:
  - DFS
---

题目链接：http://poj.org/problem?id=3009

给出一个 $w * h$ 的棋盘，棋盘中存在空地和障碍物。有一个放置在起点的球，和终点（目的地）。每次可以将球往上下左右四个方向移动，问最少几次可以将球移动到终点。

咋一看就是个简单的 DFS 或 BFS，然而题目做了一些变化：

1. 球的每次移动不再是一个格子，而是一路滚，直到撞到障碍物（不会反弹）或者滚出棋盘（失败）为止
2. 如果球因为撞到了某个障碍物而停止，那么这个障碍物将被撞碎而变成空地，但球不会继续滚

<!-- more -->

## 思路

虽然复杂了很多，但这依然可以使用 DFS 解决。最大的不同就是从“每次移动一格”到“每次滚到底”了。

每次移动可以先确定方向，然后用一个 `while` 循环实现滚动。如果下一个格子是空地就继续滚动，如果滚出边缘或者碰到障碍物则停止。

另外这道题限制了移动的次数（不是路过的格子数）不能超过 10，在一定程度上简化了题目。

{% include_code acm-solutions/POJ/3009.cpp %}
